<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../../components/element/element.css">
    <style>
        body {
            margin: 0 !important;
            padding: 0 !important
        }

        .header {
            max-height: 60px
        }

        .header .user .el-submenu.is-active .el-submenu__title {
            border-bottom: 0 !important
        }

        .content #showing {
            width: 600px;
            margin: 20px auto
        }

        .clearfix:after {
            content: " ";
            display: block;
            height: 0;
            clear: both;
        }

        /*IE/7/6*/
        .clearfix {
            *zoom: 1;
        }

        ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>


<div id="plan">

    <el-input type="textarea" v-model="desc"></el-input>

    <div id="tag">
        <ul v-for="a of list" style="width: 100%;min-height: 30px" class="clearfix">
            <li
                    v-for="a1 of a"
                    :style="[baseStyle,statusColor(a1.status)]">
                {{a1.id}}
            </li>
        </ul>
    </div>
</div>

</body>
</html>

<script src="../../components/debug/jquery.js"></script>
<script src="../../components/debug/vue.js"></script>
<script src="../../components/debug/element.js"></script>

<script>
    //TODO 制作平面图解析功能


    /*<prod>*/
    console.log('线上版本');
    /*</prod>*/

    var plan = new Vue({
        el: '#plan',
        prop: {},
        data: function () {
            return {
                desc: '',
                baseStyle: {
                    float: 'left',
                    width: '25px',
                    height: '25px',
                    margin: '5px'
                }
            };
        },
        computed: {
            list: function () {
                var obj = [[]];
                var kuQu={};
                var row = 0;
                var col = 1;
                var step={};

                for (var i = 0; i < this.desc.length; i++) {
                    switch (this.desc[i]) {
                        case ' ':       //过道
                            obj[row].push({id: -1 , status: -1});
                            break;
                        case '\n':      //换行
                            row++;
                            col = 1;
                            obj.push([]);
                            break;
                        default:       //仓库
                            //库区
                            step={row:row,col:col++, status: 2};
                            if(typeof kuQu[this.desc[i]]=='undefined'){
                                kuQu[this.desc[i]]={color:'',src:[],id:this.desc[i].toUpperCase()};
                            }
                            kuQu[this.desc[i]].src.push(step);
                            obj[row].push();
                    }
                }

                return obj;
            }

        },
        methods: {
            // TODO 根据 UI 平面图 kuqu 配置正确的颜色于注释   imzhangxing
            statusColor: function (status) {
                switch (status) {
                    case -1:        //过道  #999
                        return 'Aisle';
                    case 0:         //未定义  #ccc
                        return 'undefined';
                    case 1:         //仓库
                        return ;
                    case 2:         //换行
                        return ;
                    case 3:         //换行
                        return ;
                    case 4:         //换行
                        return ;
                    case 5:         //换行
                        return ;
                }
            },
            isAisle:function (id) {
                if(id == -1){

                }else{

                }
            }
        },
        watch: {}
    });
</script>