<div id="tool_print">
    <el-form
            :model="form">
        <el-form-item label="车牌号">
            <el-input
                    v-model="form.ckrwCph"
                    icon="search"
                    placeholder="车牌号"></el-input>
        </el-form-item>
        <el-form-item label="任务号">
            <el-input
                    v-model="form.ckrwNo"
                    icon="search"
                    placeholder="任务号"></el-input>
        </el-form-item>
        <el-form-item label="制作时间">
            <el-date-picker
                    v-model="form.ckrwGreatTime"
                    type="daterange"
                    align="right"
                    placeholder="制作时间">
            </el-date-picker>
        </el-form-item>
        <el-form-item label="任务状态">
            <el-date-picker
                    v-model="form.ckrwStatus"
                    type="date"
                    align="right"
                    placeholder="制作时间">
            </el-date-picker>
        </el-form-item>
        <el-form-item label="欠货状态">
            <el-select v-model="form.ckrwQhStatus" placeholder="请选择">
                <el-option :value="-1" label="全部"></el-option>
                <el-option :value="1" label="欠货"></el-option>
                <el-option :value="2" label="未欠货"></el-option>
            </el-select>
        </el-form-item>
        <el-form-item label="滞留状态">
            <el-select v-model="form.ckrwZlStatus" placeholder="请选择">
                <el-option :value="-1" label="全部"></el-option>
                <el-option :value="1" label="滞留"></el-option>
                <el-option :value="2" label="未滞留"></el-option>
            </el-select>
        </el-form-item>
    </el-form>
    <el-button @click="submit">aaaaa</el-button>
</div>


<script>
    var tool_print = new Vue({
        el: '#tool_print',
        data: function () {
            return {
                current: _current(),
                form: _form()
            }
        },
        computed: {
            form_pop: function () {
                return auto_send_pop(this.form, this.current);
            }
        },
        methods: {
            submit: function () {
                p.post(this.form_pop);
            }
        }
    });

    function _current() {
        return {
            draw: 1,
            pageNum: 1,
            pageSize: 10
        }
    }

    var obj = tool_print;
    var p = autoPost({
        urlProd: "/route/home/1",
        success: function (json) {
        }
    });

    function _form() {
        return {
            ckrwCph: '',        //车牌号
            ckrwNo: '',         //任务号
            ckrwGreatTime: ['', ''], //制作时间
            ckrwStatus: '',     //任务状态
            ckrwQhStatus: '',    //欠货状态
            ckrwZlStatus: '',    //滞留状态
        }
    }

    function auto_send_pop(row, cur) {
        if (typeof  row === 'undefined')return;
        var step = _form();
        allPrposCb(step, function (obj2, index) {
            if (typeof row[index] !== 'undefined') {
                if (row[index] instanceof Date) {
                    step[index] = tsf_date(row[index]);
                } else if (row[index] instanceof Array) {
                    for (var i in row[index]) {
                        step[index + i] = tsf_date(row[index][i]);
                    }
                    delete step[index]
                } else {
                    step[index] = row[index];
                }
            }
        });
        for (var o in cur) {
            step[o] = cur[o]
        }
        return step;
    }

</script>