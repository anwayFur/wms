<div id="tool_print"></div>
<script type="text/x-template" id="tool-print-template">
    <div>
        <el-form :model="form_2">
            <el-form-item label="单号">
                <el-input
                        v-model="form_2.dh"
                        icon="search"
                        placeholder="车牌号"></el-input>
            </el-form-item>
            <el-form-item label="收货仓库">
                <el-select
                        v-model="form_2.shck"
                        placeholder="收货仓库">
                    <el-option :label="obj.baName" :value="obj.baArehouseId"
                               v-for="obj of _baseArehouses()"></el-option>
                </el-select>
            </el-form-item>
            <el-form-item label="始发日期">
                <el-date-picker
                        v-model="form_2.dhsj"
                        type="daterange"
                        align="right"
                        placeholder="始发日期">
                </el-date-picker>
            </el-form-item>
            <el-form-item label="到货日期">
                <el-date-picker
                        v-model="form_2.sfrq"
                        type="date"
                        align="right"
                        placeholder="到货日期">
                </el-date-picker>
            </el-form-item>
        </el-form>
        <el-button @click="submit">aaaaa</el-button>
    </div>
</script>
<script>

    /**
     * 设 主页面 为 入库台账
     *
     * 1.主页面 显示数据,6.编辑 主页面 数据
     * 2.主页面 模糊查询
     * 3.主页面 详细查询
     * 4.欠货完结 显示数据，提交数据
     * 5.新增 主页面 数据
     */
    var _form = auto_form({
        data: {
            rk_rkdj_id: [1, 4, 5], //明细id
            sfrq: [1, 2],    //始发日期
            dhsj: [1, 2],    //到货日期
            dbdd: [1],       //调拨地点
            cys: [1],        //承运商
            cph: [1],        //车牌号
            shr: [1],        //收货人
            shck: [1, 2],    //收货仓库
            dh: [1, 2],      //单号
            dbdh: [1],       //调拨单号
            cyts: [1],       //承运件数(台)
            cyxs: [1],       //承运件数(箱)
            cytj: [1],       //方数
            wlbm: [1],       //物料编号
            wlms: [1],       //物料描述
            ts: [1],         //台数
            js: [1],         //件数
            tj: [1],         //方数
            dbpswb: [1],     //调拨破损外包
            ytpswb: [1],     //源头破损外包
            dbpsnb: [1],     //调拨破损内保
            ytpsnb: [1],     //源头破损内保
            ycyy: [1],       //异常原因
            cljg: [1],       //处理结果
            psts: [1],       //破损台数
            jssj: [1],       //结算时间

            rksWjReason: [4], //完结原因
            rksBfdh: [4],     //补发单号
        },
        Default: {
            shck: window.dbmessage.baseArehouses[0].baArehouseId
        }
    });
    var p = autoPost({
        urlProd: "/route/home/1"
    });

    var tool_print = {
        template: "#tool-print-template",
        data: function () {
            return {
                current: _current(),
                form_1: _form.get(1),
                form_6: _form.get(1),
                form_2: _form.get(2),
                form_3: _form.get(3),
                form_4: _form.get(4),
                form_5: _form.get(5),
            };
        },
        computed: {
            option: function () {
                return _form.pop(this, 2);
            },
            pop: function () {
                return _form.pop(this, 3);
            }

        },
        methods: {
            submit: function () {
                p.post(this.form_pop);
            }
        },
        watch: {}
    };
    var objCreate = Vue.extend(tool_print);
    var obj = new objCreate().$mount('#tool_print');
    obj.$watch('form_2', function () {
        p.post((_option ? this.form_pop : this.option));
    }, {deep: true});
</script>