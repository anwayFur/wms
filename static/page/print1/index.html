
<div id="tool_print" v-if="printModel">
    <input type="button" value="打印" @click="print1"/>
</div>

<script>
    function createTestJson(number) {
        var json = [];
        for (var i = 0; i < number; i++) {
            json.push({
                val2: ''
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10)
                + parseInt(Math.random() * 9 + 1, 10),
                val: '20170329',
                rwdh: 'RK20170329-' + i,
                dhrq: '20170329',
                dysj: changeDate(new Date())
            })
        }
//        console.log(JSON.stringify(json));
        return json;
    }
    function changeDate(date) {
        return dateFormat(new Date(date), 'MM-dd hh:mm');
    }
    function dateFormat(date, fmt) {
        var o = {
            "M+": date.getMonth() + 1,                 //月份
            "d+": date.getDate(),                    //日
            "h+": date.getHours(),                   //小时
            "m+": date.getMinutes(),                 //分
            "s+": date.getSeconds(),                 //秒
            "q+": Math.floor((date.getMonth() + 3) / 3), //季度
            "S": date.getMilliseconds()             //毫秒
        };
        if (/(y+)/.test(fmt))
            fmt = fmt.replace(RegExp.$1, (date.getFullYear() + "").substr(4 - RegExp.$1.length));
        for (var k in o)
            if (new RegExp("(" + k + ")").test(fmt))
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
        return fmt;
    }
    var tool_print = new Vue({
        el: '#tool_print',
        data: function () {
            return {
                printModel: true,
                printDatas:createTestJson(20)
            }
        },
        methods: {
            print1: function () {
                this.printModel = false;
                wap.print1(this);
            }
        }
    });
</script>